//
//  InscripcionControlador.swift
//  InstitutoTabasco
//
//  Creado por Vales Corp en 17/06/25.
//

import Vapor
import Fluent

func mostrarInscripcion(req: Request) async throws -> View {
    guard let alumnoID = req.parameters.get("alumnoID", as: Int.self) else {
        throw Abort(.badRequest)
    }

    guard let alumno = try await Alumnos.find(alumnoID, on: req.db) else {
		throw Abort(.notFound)
	}

    struct InscripcionContextop3: Encodable {
        let alumno: Alumnos
    }

    let contextop3 = InscripcionContextop3(alumno: alumno)
    return try await req.view.render("inscripcion", contextop3)
}
